(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{64:function(e,t,c){},87:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=c(44),r=c(11),s=c(12),o=(c(63),c(64),c(5)),j=c(1),l=function(){return Object(j.jsx)("div",{className:"footer",children:Object(j.jsx)("p",{children:"BlogReact (c) 2022"})})},b=c(90),d=c(88),O={type:"AUTH_TRUE"},u={type:"AUTH_FALSE"},m=function(){var e=Object(o.g)(),t=Object(s.b)(),c=Object(o.f)().pathname,a=Object(s.c)((function(e){return e.isAuth}));window.localStorage.getItem("token")&&!a&&t(O);return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)("h1",{children:"BlogReact"})}),Object(j.jsxs)(b.a,{variant:"pills",children:[Object(j.jsx)(b.a.Item,{children:Object(j.jsx)(b.a.Link,{active:"/"===c,to:"/",as:r.b,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(j.jsx)(b.a.Item,{children:Object(j.jsx)(b.a.Link,{active:"/about"===c,to:"/about",as:r.b,children:"\u041e\u0431\u043e \u043c\u043d\u0435"})}),Object(j.jsx)(b.a.Item,{children:a?Object(j.jsx)(b.a.Link,{active:"/profile"===c,to:"/profile",as:r.b,children:"\u0410\u0434\u043c\u0438\u043d\u043a\u0430"}):Object(j.jsx)(b.a.Link,{active:"/login"===c,to:"/login",as:r.b,children:"\u0412\u043e\u0439\u0442\u0438"})}),a&&Object(j.jsx)(d.a,{onClick:function(){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438?")&&(window.localStorage.removeItem("token"),e("/"),t(u))},className:"buttonLogout",variant:"danger",children:"\u0412\u044b\u0439\u0442\u0438"})]})]})},h=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{className:"imgAbout",src:"https://cs10.pikabu.ru/post_img/2019/06/07/7/1559905588140454390.jpg",alt:"\u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c"}),Object(j.jsx)("h2",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"}),Object(j.jsx)("p",{children:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0441\u0442\u043e \u043b\u0443\u0447\u0448\u0438\u0439 \u0447\u0443\u0432\u0430\u043a \u043d\u0430 \u0441\u0432\u0435\u0442\u0435, \u0432\u0435\u0434\u044c \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u043d \u043d\u0430\u0443\u0447\u0438\u043b\u0441\u044f \u0438 \u0441\u0434\u0435\u043b\u0430\u043b \u044d\u0442\u043e\u0442 \u0431\u043b\u043e\u0433!"})]})},x=c(89),p=c(50),f=c(92),g=c(23),v=c.n(g),y=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.posts})),c=Object(s.c)((function(e){return e.isAuth}));return Object(j.jsx)(x.a,{xs:1,md:2,className:"g-4",children:t&&t.map((function(t){return Object(j.jsx)(p.a,{children:Object(j.jsxs)(f.a,{children:[Object(j.jsxs)(r.b,{to:"/post/".concat(t.id),children:[Object(j.jsx)(f.a.Img,{variant:"top",src:t.imageUrl,alt:t.imageUrl}),Object(j.jsxs)(f.a.Body,{children:[Object(j.jsx)(f.a.Title,{children:t.title}),Object(j.jsxs)(f.a.Text,{children:[t.discription.substr(0,70)," ..."]})]}),Object(j.jsx)(f.a.Footer,{children:Object(j.jsxs)("small",{className:"text-muted",children:["\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e: ",(a=t.createdAt,new Date(a).toLocaleString("ru"))]})})]}),c&&Object(j.jsxs)("div",{className:"adminButtons",children:[Object(j.jsx)(r.b,{to:"/updatepost/".concat(t.id),children:Object(j.jsx)(d.a,{variant:"warning",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"})}),Object(j.jsx)(d.a,{onClick:function(){return c=t.id,void(window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e \u2116".concat(c,"?"))&&e(function(e){return{type:"REMOVE_POST",payload:e}}(c)));var c},variant:"danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"})]})]})},t.id);var a}))})},w=c(10),T=c(2),N=c(7),S=c(91),U=function(){var e=n.a.useState({email:"test@test.ru",password:"123456"}),t=Object(N.a)(e,2),c=t[0],a=t[1],i=Object(o.g)(),r=function(e){a(Object(T.a)(Object(T.a)({},c),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(j.jsx)("div",{className:"loginForm",children:Object(j.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),v.a.get("https://mentor.archakov.im/api/mock/login?email=".concat(c.email,"&password=").concat(c.password)).then((function(e){i("/profile");var t=e.data.token;window.localStorage.setItem("token",t)})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),console.log(e)}))},children:[Object(j.jsxs)(S.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(j.jsx)(S.a.Label,{children:"E-mail"}),Object(j.jsx)(S.a.Control,{name:"email",onChange:r,type:"email",value:c.email})]}),Object(j.jsxs)(S.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(j.jsx)(S.a.Label,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(j.jsx)(S.a.Control,{name:"password",onChange:r,type:"password",value:c.password,autoComplete:"off"})]}),Object(j.jsx)(d.a,{variant:"primary",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})})},A=function(){var e=Object(s.c)((function(e){return e.posts})),t=Object(o.h)().id,c=e.find((function(e){return e.id===Number(t)}));return c?Object(j.jsxs)("div",{className:"fullPost",children:[Object(j.jsx)("h2",{children:c.title}),Object(j.jsx)("img",{className:"imgPost",src:c.imageUrl,alt:"\u043a\u0440\u0430\u0441\u043e\u0442\u0430"}),Object(j.jsx)("p",{className:"descPost",children:c.discription}),Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)(d.a,{children:"\u041d\u0430\u0437\u0430\u0434"})})]}):Object(j.jsx)(o.a,{to:"/"})},C=function(){return Object(j.jsxs)("div",{className:"fullPost",children:[Object(j.jsx)("h2",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("}),Object(j.jsx)("p",{className:"descPost",children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0443 \u043d\u0430\u0441 \u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)(d.a,{children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})},k=function(){var e=Object(s.b)(),t=n.a.useState({title:"",imageUrl:"",discription:""}),c=Object(N.a)(t,2),a=c[0],i=c[1];if(!window.localStorage.getItem("token"))return Object(j.jsx)(o.a,{to:"/"});var r=function(e){i(Object(T.a)(Object(T.a)({},a),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"\u042d\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"}),Object(j.jsx)("h4",{children:"\u0417\u0434\u0435\u0441\u044c \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(j.jsx)("div",{className:"addNewPostForm",children:Object(j.jsxs)(S.a,{onSubmit:function(t){t.preventDefault(),function(t){e(function(e){return{type:"ADD_POST",payload:e}}(t)),alert("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430!")}(a),i({title:"",imageUrl:"",discription:""})},children:[Object(j.jsxs)(S.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(j.jsx)(S.a.Label,{children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(j.jsx)(S.a.Control,{name:"title",onChange:r,type:"text",value:a.title})]}),Object(j.jsxs)(S.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(j.jsx)(S.a.Label,{children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 800\u0445600"}),Object(j.jsx)(S.a.Control,{name:"imageUrl",onChange:r,type:"text",value:a.imageUrl})]}),Object(j.jsxs)(S.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(j.jsx)(S.a.Label,{children:"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(j.jsx)(S.a.Control,{as:"textarea",name:"discription",onChange:r,type:"text",value:a.discription})]}),Object(j.jsx)(d.a,{variant:"primary",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"})]})})]})},I=function(){var e=Object(s.b)(),t=Object(o.g)(),c=Object(o.h)().id,a=Object(s.c)((function(e){return e.posts})).find((function(e){return e.id===Number(c)})),i=n.a.useState({id:a.id,title:a.title,imageUrl:a.imageUrl,discription:a.discription}),r=Object(N.a)(i,2),l=r[0],b=r[1];if(!window.localStorage.getItem("token"))return Object(j.jsx)(o.a,{to:"/"});var O=function(e){b(Object(T.a)(Object(T.a)({},l),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"\u042d\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"}),Object(j.jsx)("h4",{children:"\u0417\u0434\u0435\u0441\u044c \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043d\u0435\u0441\u0442\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(j.jsx)("div",{className:"addNewPostForm",children:Object(j.jsxs)(S.a,{onSubmit:function(c){c.preventDefault(),function(t){window.confirm("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0441\u0442\u0430\u0442\u044c\u0435 \u2116".concat(t.id,"?"))&&(e(function(e){return{type:"UPDATE_POST",payload:e}}(t)),alert("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430!"))}(l),t("/")},children:[Object(j.jsxs)(S.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(j.jsx)(S.a.Label,{children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(j.jsx)(S.a.Control,{name:"title",onChange:O,type:"text",value:l.title})]}),Object(j.jsxs)(S.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(j.jsx)(S.a.Label,{children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 800\u0445600"}),Object(j.jsx)(S.a.Control,{name:"imageUrl",onChange:O,type:"text",value:l.imageUrl})]}),Object(j.jsxs)(S.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(j.jsx)(S.a.Label,{children:"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(j.jsx)(S.a.Control,{as:"textarea",name:"discription",onChange:O,type:"text",value:l.discription})]}),Object(j.jsx)(d.a,{variant:"primary",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0441\u0442\u0430\u0442\u044c\u0435"})]})})]})};var P=function(){var e=Object(s.b)();return n.a.useEffect((function(){e((function(e){v.a.get("https://6245592d7701ec8f725097cb.mockapi.io/posts").then((function(t){e({type:"ADD_START_POSTS",payload:t.data})})).catch((function(e){console.log(e.message)}))}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",element:Object(j.jsx)(y,{})}),Object(j.jsx)(o.b,{path:"/about",element:Object(j.jsx)(h,{})}),Object(j.jsx)(o.b,{path:"/login",element:Object(j.jsx)(U,{})}),Object(j.jsx)(o.b,{path:"/profile",element:Object(j.jsx)(k,{})}),Object(j.jsx)(o.b,{path:"/post/:id",element:Object(j.jsx)(A,{})}),Object(j.jsx)(o.b,{path:"/updatepost/:id",element:Object(j.jsx)(I,{})}),Object(j.jsx)(o.b,{path:"*",element:Object(j.jsx)(C,{})})]}),Object(j.jsx)(l,{})]})},L=c(25),D=c(51),_=c(24),E=[];var B=Object(L.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_START_POSTS":return t.payload;case"ADD_POST":return[].concat(Object(_.a)(e),[{createdAt:Date.now(),title:t.payload.title,imageUrl:t.payload.imageUrl,discription:t.payload.discription,id:e[e.length-1].id+1}]);case"REMOVE_POST":return e.filter((function(e){return e.id!==t.payload}));case"UPDATE_POST":return e.map((function(e){return e.id===t.payload.id?Object(T.a)(Object(T.a)({},e),{},{title:t.payload.title,imageUrl:t.payload.imageUrl,discription:t.payload.discription}):e}));default:return e}},isAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_TRUE":return!0;case"AUTH_FALSE":return!1;default:return e}}}),F=Object(L.c)(B,Object(L.a)(D.a)),R=document.getElementById("root");Object(i.createRoot)(R).render(Object(j.jsx)(r.a,{children:Object(j.jsx)(s.a,{store:F,children:Object(j.jsx)(P,{})})}))}},[[87,1,2]]]);
//# sourceMappingURL=main.68e24c55.chunk.js.map